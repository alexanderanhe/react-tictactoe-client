[{"/Users/alexanderangulo/Sites/personal_projects/react-projects/react-whatsapp-socketio/client/src/contexts/ConversationsProvider.js":"1","/Users/alexanderangulo/Sites/personal_projects/react-projects/react-whatsapp-socketio/client/src/components/OpenConversation.js":"2","/Users/alexanderangulo/Sites/personal_projects/react-projects/react-whatsapp-socketio/client/src/hooks/useLocalStorage.js":"3","/Users/alexanderangulo/Sites/personal_projects/react-projects/react-whatsapp-socketio/client/src/components/NewConversationModal.js":"4","/Users/alexanderangulo/Sites/personal_projects/react-projects/react-whatsapp-socketio/client/src/components/NewContactModal.js":"5","/Users/alexanderangulo/Sites/personal_projects/react-projects/react-whatsapp-socketio/client/src/contexts/SocketProvider.js":"6","/Users/alexanderangulo/Sites/personal_projects/react-projects/react-tictactoe-socketio/client/src/contexts/ContactsProvider.js":"7","/Users/alexanderangulo/Sites/personal_projects/react-projects/react-tictactoe-socketio/client/src/components/NewConversationModal.js":"8","/Users/alexanderangulo/Sites/personal_projects/react-projects/react-tictactoe-socketio/client/src/components/App.js":"9","/Users/alexanderangulo/Sites/personal_projects/react-projects/react-tictactoe-socketio/client/src/components/Game.js":"10","/Users/alexanderangulo/Sites/personal_projects/react-projects/react-tictactoe-socketio/client/src/components/OpenConversation.js":"11","/Users/alexanderangulo/Sites/personal_projects/react-projects/react-tictactoe-socketio/client/src/contexts/GameProvider.js":"12","/Users/alexanderangulo/Sites/personal_projects/react-projects/react-tictactoe-socketio/client/src/hooks/useLocalStorage.js":"13","/Users/alexanderangulo/Sites/personal_projects/react-projects/react-tictactoe-socketio/client/src/components/Dashboard.js":"14","/Users/alexanderangulo/Sites/personal_projects/react-projects/react-tictactoe-socketio/client/src/contexts/ConversationsProvider.js":"15","/Users/alexanderangulo/Sites/personal_projects/react-projects/react-tictactoe-socketio/client/src/components/Contacts.js":"16","/Users/alexanderangulo/Sites/personal_projects/react-projects/react-tictactoe-socketio/client/src/components/Sidebar.js":"17","/Users/alexanderangulo/Sites/personal_projects/react-projects/react-tictactoe-socketio/client/src/index.js":"18","/Users/alexanderangulo/Sites/personal_projects/react-projects/react-tictactoe-socketio/client/src/components/NewContactModal.js":"19","/Users/alexanderangulo/Sites/personal_projects/react-projects/react-tictactoe-socketio/client/src/components/Conversations.js":"20","/Users/alexanderangulo/Sites/personal_projects/react-projects/react-tictactoe-socketio/client/src/contexts/SocketProvider.js":"21","/Users/alexanderangulo/Sites/personal_projects/react-projects/react-tictactoe-socketio/client/src/components/Login.js":"22"},{"size":3275,"mtime":1607119138091,"results":"23","hashOfConfig":"24"},{"size":2202,"mtime":1607048017651,"results":"25","hashOfConfig":"24"},{"size":595,"mtime":1607031658867,"results":"26","hashOfConfig":"24"},{"size":1506,"mtime":1607036956361,"results":"27","hashOfConfig":"24"},{"size":952,"mtime":1607048119202,"results":"28","hashOfConfig":"24"},{"size":594,"mtime":1607048541125,"results":"29","hashOfConfig":"24"},{"size":594,"mtime":1607034847542,"results":"30","hashOfConfig":"31"},{"size":1506,"mtime":1607036956361,"results":"32","hashOfConfig":"31"},{"size":1073,"mtime":1607613778632,"results":"33","hashOfConfig":"31"},{"size":5632,"mtime":1607613252875,"results":"34","hashOfConfig":"31"},{"size":2206,"mtime":1607552779143,"results":"35","hashOfConfig":"31"},{"size":7812,"mtime":1607614065148,"results":"36","hashOfConfig":"31"},{"size":590,"mtime":1607609953041,"results":"37","hashOfConfig":"31"},{"size":542,"mtime":1607610036792,"results":"38","hashOfConfig":"31"},{"size":3338,"mtime":1607562855453,"results":"39","hashOfConfig":"31"},{"size":410,"mtime":1607035795577,"results":"40","hashOfConfig":"31"},{"size":1927,"mtime":1607033764302,"results":"41","hashOfConfig":"31"},{"size":255,"mtime":1607024940984,"results":"42","hashOfConfig":"31"},{"size":952,"mtime":1607048119202,"results":"43","hashOfConfig":"31"},{"size":647,"mtime":1607038094973,"results":"44","hashOfConfig":"31"},{"size":631,"mtime":1607614588737,"results":"45","hashOfConfig":"31"},{"size":840,"mtime":1607613830645,"results":"46","hashOfConfig":"31"},{"filePath":"47","messages":"48","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"49"},"zstb93",{"filePath":"50","messages":"51","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"52","messages":"53","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"54","messages":"55","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"56","messages":"57","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"58","messages":"59","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"49"},{"filePath":"60","messages":"61","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},"1foe7t3",{"filePath":"63","messages":"64","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"65","messages":"66","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"67","messages":"68","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"69","messages":"70","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"71","messages":"72","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"73"},{"filePath":"74","messages":"75","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"76","messages":"77","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"78","messages":"79","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"81","messages":"82","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"83","messages":"84","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"85","messages":"86","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"87","messages":"88","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"89","messages":"90","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"91","messages":"92","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"93","messages":"94","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/Users/alexanderangulo/Sites/personal_projects/react-projects/react-whatsapp-socketio/client/src/contexts/ConversationsProvider.js",[],["95","96"],"/Users/alexanderangulo/Sites/personal_projects/react-projects/react-whatsapp-socketio/client/src/components/OpenConversation.js",[],"/Users/alexanderangulo/Sites/personal_projects/react-projects/react-whatsapp-socketio/client/src/hooks/useLocalStorage.js",[],"/Users/alexanderangulo/Sites/personal_projects/react-projects/react-whatsapp-socketio/client/src/components/NewConversationModal.js",[],"/Users/alexanderangulo/Sites/personal_projects/react-projects/react-whatsapp-socketio/client/src/components/NewContactModal.js",[],"/Users/alexanderangulo/Sites/personal_projects/react-projects/react-whatsapp-socketio/client/src/contexts/SocketProvider.js",[],"/Users/alexanderangulo/Sites/personal_projects/react-projects/react-tictactoe-socketio/client/src/contexts/ContactsProvider.js",[],["97","98"],"/Users/alexanderangulo/Sites/personal_projects/react-projects/react-tictactoe-socketio/client/src/components/NewConversationModal.js",[],"/Users/alexanderangulo/Sites/personal_projects/react-projects/react-tictactoe-socketio/client/src/components/App.js",[],"/Users/alexanderangulo/Sites/personal_projects/react-projects/react-tictactoe-socketio/client/src/components/Game.js",[],"/Users/alexanderangulo/Sites/personal_projects/react-projects/react-tictactoe-socketio/client/src/components/OpenConversation.js",[],"/Users/alexanderangulo/Sites/personal_projects/react-projects/react-tictactoe-socketio/client/src/contexts/GameProvider.js",["99"],"import React, { useContext, useEffect, useRef } from 'react'\nimport { Container, Form, Button, Image } from 'react-bootstrap'\nimport { useSocket } from '../contexts/SocketProvider'\nimport useLocalStorage from '../hooks/useLocalStorage'\nimport logo from '../logo.png'\n\nconst GameContext = React.createContext()\n\nexport function useGame() {\n  return useContext(GameContext)\n}\n\nexport function GameProvider({ children, user }) {\n  const idRef = useRef();\n  const socket = useSocket()\n\n  const [gamedata, setGamedata] = useLocalStorage('game', {\n    game: Array(9).fill(null).map(() => Array(9).fill(null)),\n    turn: Math.floor(Math.random() * 2),\n    pq: [],\n    points: [0, 0],\n    players: [],\n    finished: [],\n    winner: null\n  })\n\n  function quadrantGroup(x, y) {\n    const a = [\n      [ [0, 1, 2], [0, 1, 2] ],\n      [ [0, 1, 2], [3, 4, 5] ],\n      [ [0, 1, 2], [6, 7, 8] ],\n      [ [3, 4, 5], [0, 1, 2] ],\n      [ [3, 4, 5], [3, 4, 5] ],\n      [ [3, 4, 5], [6, 7, 8] ],\n      [ [6, 7, 8], [0, 1, 2] ],\n      [ [6, 7, 8], [3, 4, 5] ],\n      [ [6, 7, 8], [6, 7, 8] ]\n    ]\n\n    for (var i = 0; i < a.length; i++) {\n      if (a[i][0].includes(y) && a[i][1].includes(x)) {\n        return i + 1\n      }\n    }\n  }\n\n  function groupBroked(block) {\n    return gamedata.finished.find( e => e.g === block )\n  }\n\n  function opAvailable(x, y) {\n    const current = quadrantGroup(x, y);\n    return (!gamedata.pq[gamedata.pq.length-1] || gamedata.pq[gamedata.pq.length-1] === current \n      || groupBroked(gamedata.pq[gamedata.pq.length-1])) && !groupBroked(current) && ![0, 1].includes(gamedata.winner);\n  }\n\n  function playerTurn(game) {\n    setGamedata(prevGame => {\n      return {\n        game: game.game,\n        turn: game.turn,\n        pq: game.pq,\n        points: game.points,\n        players: game.players,\n        finished: game.finished,\n        winner: game.winner\n      }\n    })\n  }\n\n  function newGame() {\n    setGamedata(prevGame => {\n      const settings = {\n        game: Array(9).fill(null).map(() => Array(9).fill(null)),\n        turn: prevGame.turn,\n        pq: [],\n        points: prevGame.points,\n        players: prevGame.players,\n        finished: [],\n        winner: null\n      }\n      socket.emit('join-game', settings)\n      return settings\n    })\n  }\n\n  function exit() {\n    setGamedata(prevGame => {\n      return {\n        game: Array(9).fill(null).map(() => Array(9).fill(null)),\n        turn: Math.floor(Math.random() * 2),\n        pq: [],\n        points: [0, 0],\n        players: [],\n        finished: [],\n        winner: null\n      }\n    })\n  }\n\n  function activeTurn(obj) {\n    const pt = obj.turn % 2 ? 0 : 1;\n    return obj.players[pt].id === user.id\n  }\n  function checkWinner(obj, gridX, gridY) {\n    const arr = obj.game;\n\n    if (!activeTurn(obj) || !(opAvailable(gridX, gridY) && ![0, 1].includes(arr[gridX][gridY]))) {\n      return\n    }\n    const quadrant = (x, y) => {\n      const a = [\n        [ [0, 3, 6], [0, 3, 6] ],\n        [ [0, 3, 6], [1, 4, 7] ],\n        [ [0, 3, 6], [2, 5, 8] ],\n        [ [1, 4, 7], [0, 3, 6] ],\n        [ [1, 4, 7], [1, 4, 7] ],\n        [ [1, 4, 7], [2, 5, 8] ],\n        [ [2, 5, 8], [0, 3, 6] ],\n        [ [2, 5, 8], [1, 4, 7] ],\n        [ [2, 5, 8], [2, 5, 8] ]\n      ]\n  \n      for (var i = 0; i < a.length; i++) {\n        if (a[i][0].includes(y) && a[i][1].includes(x)) {\n          return i + 1\n        }\n      }\n    };\n  \n    const addFinished = (x, y, ox, oy, d, w) => {\n      obj.finished.push({\n        g: quadrantGroup(x, y),\n        c: [x, y],\n        o: [ox, oy],\n        d, w\n      });\n    }\n\n    obj.game[gridX][gridY] = ((obj.turn++)+1)%2\n    obj.pq.push(quadrant(gridX, gridY))\n\n    const a = [\n      [[0, 0], [1, 0], [2, 0]], // type: r | h\n      [[0, 1], [1, 1], [2, 1]], // type: r\n      [[0, 2], [1, 2], [2, 2]], // type: r\n      [[0, 0], [0, 1], [0, 2]], // type: d | v\n      [[1, 0], [1, 1], [1, 2]], // type: d\n      [[2, 0], [2, 1], [2, 2]], // type: d\n      [[0, 0], [1, 1], [2, 2]], // type: -\n      [[2, 0], [1, 1], [0, 2]]  // type: +\n    ]\n\n    for (var i = 0; i < 9; i += 3) {\n      for (var j = 0; j < 9; j += 3) {\n        if (groupBroked(quadrantGroup(i, j))) continue;\n        var f = false;\n        for (var k = 0; k < a.length; k++) {\n          if (arr[i+a[k][0][0]][j+a[k][0][1]] != null && arr[i+a[k][0][0]][j+a[k][0][1]] === arr[i+a[k][1][0]][j+a[k][1][1]]\n            && arr[i+a[k][0][0]][j+a[k][0][1]] === arr[i+a[k][2][0]][j+a[k][2][1]]) {\n              const type = k < 3 ? 'h' : (k < 6 ? 'v' : (k===6 ? 'n' : 'p'));\n              addFinished(i+a[k][0][0], j+a[k][0][1], i, j, type, arr[i+a[k][0][0]][j+a[k][0][1]]);\n              f = true;\n            }\n        }\n        if (!f && arr[i][j] != null && arr[i+1][j] != null && arr[i+2][j] != null && \n          arr[i][j+1] != null && arr[i+1][j+1] != null && arr[i+2][j+1] != null && \n          arr[i][j+2] != null && arr[i+1][j+2] != null && arr[i+2][j+2] != null) {\n            addFinished(i, j, i, j, null, null);\n        }\n      }\n    }\n\n    const v = [\n      [1, 2, 3], [4, 5, 6], [7, 8, 9],\n      [1, 4, 7], [2, 5, 8], [3, 6, 9],\n      [1, 5, 9], [3, 5, 7]\n    ];\n\n    for (let t = 0; t < v.length; t++) {\n      for (let p = 0; p < 2; p++) {\n        const w = obj.finished.filter(e => v[t].includes(e.g) && e.w === p).length === 3;\n        if (w) {\n          obj.winner = p;\n          obj.turn -= 1;\n          obj.points[obj.winner] += 1;\n          break;\n        }\n      }\n    }\n    \n    const pt = obj.turn % 2 ? 0 : 1;\n    const turn_label = \"TURNO: \" + obj.players[pt].name;\n    console.log('score', turn_label)\n\n    if ([0, 1].includes(obj.winner)) {\n      const winner_label = \"GANADOR \" + obj.players[obj.winner].name;\n      console.log('messages', winner_label)\n    }\n\n    \n    socket.emit('join-game', obj, conf => {\n      console.log('sended', obj)\n      playerTurn(obj)\n    })\n  }\n\n  const value = {\n    gamedata,\n    newGame,\n    exit,\n    checkWinner,\n    groupBroked,\n    quadrantGroup,\n    opAvailable,\n    activeTurn\n  }\n\n  // FORM\n  function handleSubmit(e) {\n    e.preventDefault()\n    \n    const new_game = {\n      game: Array(9).fill(null).map(() => Array(9).fill(null)),\n      turn: gamedata.turn,\n      pq: [],\n      points: gamedata.points,\n      players: [\n        { id: user.id, name: user.name },\n        { id: idRef.current.value, name: ''},\n      ],\n      finished: [],\n      winner: null\n    }\n\n    socket.emit('join-game', new_game)\n    // playerTurn(new_game)\n  }\n\n  useEffect(() => {\n    if (socket == null) return\n\n    socket.on('send-request-game', req => {\n      if (req.players[1].id === user.id) {\n        req.players[1] = user;\n        socket.emit('join-game', req)\n      }\n      playerTurn(req)\n    })\n\n    return () => socket.off('send-request-game')\n  }, [socket, gamedata])\n\n\n  const connForm = (\n    <Container className=\"align-items-center d-flex\" style={{ height: '100vh'}}>\n      <Form onSubmit={handleSubmit} className=\"w-100\">\n        <Form.Group>\n          <Image src={logo} fluid className=\"App-logo\" style={{margin: '0 auto', display: 'block'}}/>\n        </Form.Group>\n        <Form.Group>\n          <Form.Label><strong>{ user.name }</strong>, share your Id: <br/><a href={'https://wa.me/?text=' + user.id} className=\"text-muted\">{ user.id }</a></Form.Label>\n        </Form.Group>\n        <Form.Group>\n          <Form.Label>or enter Your Friend`s Id</Form.Label>\n          <Form.Control type=\"text\" ref={idRef} autofocus required />\n          <Form.Text className=\"text-success\">\n            Listening for a host . . .\n          </Form.Text>\n        </Form.Group>\n        <Button type=\"submit\">Continue</Button>\n      </Form>\n    </Container>\n  )\n\n  return (\n    !gamedata.players.length ? connForm :\n    ( <GameContext.Provider value={value}>\n      { children }\n    </GameContext.Provider> )\n  )\n}\n","/Users/alexanderangulo/Sites/personal_projects/react-projects/react-tictactoe-socketio/client/src/hooks/useLocalStorage.js",[],"/Users/alexanderangulo/Sites/personal_projects/react-projects/react-tictactoe-socketio/client/src/components/Dashboard.js",[],"/Users/alexanderangulo/Sites/personal_projects/react-projects/react-tictactoe-socketio/client/src/contexts/ConversationsProvider.js",[],["100","101"],"/Users/alexanderangulo/Sites/personal_projects/react-projects/react-tictactoe-socketio/client/src/components/Contacts.js",[],"/Users/alexanderangulo/Sites/personal_projects/react-projects/react-tictactoe-socketio/client/src/components/Sidebar.js",[],"/Users/alexanderangulo/Sites/personal_projects/react-projects/react-tictactoe-socketio/client/src/index.js",[],"/Users/alexanderangulo/Sites/personal_projects/react-projects/react-tictactoe-socketio/client/src/components/NewContactModal.js",[],"/Users/alexanderangulo/Sites/personal_projects/react-projects/react-tictactoe-socketio/client/src/components/Conversations.js",[],"/Users/alexanderangulo/Sites/personal_projects/react-projects/react-tictactoe-socketio/client/src/contexts/SocketProvider.js",[],"/Users/alexanderangulo/Sites/personal_projects/react-projects/react-tictactoe-socketio/client/src/components/Login.js",[],{"ruleId":"102","replacedBy":"103"},{"ruleId":"104","replacedBy":"105"},{"ruleId":"102","replacedBy":"106"},{"ruleId":"104","replacedBy":"107"},{"ruleId":"108","severity":1,"message":"109","line":252,"column":6,"nodeType":"110","endLine":252,"endColumn":24,"suggestions":"111"},{"ruleId":"102","replacedBy":"112"},{"ruleId":"104","replacedBy":"113"},"no-native-reassign",["114"],"no-negated-in-lhs",["115"],["114"],["115"],"react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'playerTurn' and 'user'. Either include them or remove the dependency array.","ArrayExpression",["116"],["114"],["115"],"no-global-assign","no-unsafe-negation",{"desc":"117","fix":"118"},"Update the dependencies array to be: [socket, gamedata, user, playerTurn]",{"range":"119","text":"120"},[6758,6776],"[socket, gamedata, user, playerTurn]"]